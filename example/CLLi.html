<!doctype>
<html>
<head>
<script type='text/javascript'>

var cll = contracts['CLL'].contract;
var key;
var val;
function acc() {
	return web3.eth.accounts[0];
}

function push() {
	val = document.getElementById('key').value;
	cll.push(val, {from:acc()});
	document.getElementById('val').innerText = cll.output();
}

function pushTail() {
	val = document.getElementById('key').value;
	cll.pushTail(val, {from:acc()});
	document.getElementById('val').innerText = cll.output();
}

function insert(dir) {
	
	val = document.getElementById('key').value;
	cll.insert(key, val, dir, {from:acc()});
	document.getElementById('val').innerText = cll.output();
	
}
function pull() {
	cll.pull({from:acc()});
	document.getElementById('val').innerText = cll.output();
}

function pop() {
	cll.pop({from:acc()});
	document.getElementById('val').innerText = cll.output();
}

function remove() {
	cll.remove({from:acc()});
	document.getElementById('key').value = cll.output();
	document.getElementById('val').innerText = cll.output();
}

function next() {
	key = document.getElementById('key').value;
	key = cll.step(key, true);
	document.getElementById('key').value = key;
	document.getElementById('val').innerText = key;
}
	
function prev(){
	key = document.getElementById('key').value;
	key = cll.step(key, false);
	document.getElementById('key').value = key;
	document.getElementById('val').innerText = key;
}
	
</script>
</head>
<body bgcolor='#E6E6FA'>
	<h3>Circular Linked List</h3>
<div>
Store:
	<input type='number' id='key'>
	<button onclick='push()'>Push</button>
	<button onclick='pushTail()'>Push Tail</button>
	<button onclick='insert(false)'>Before</button>
	<button onclick='insert(true)'>After</button>
</div>
<div>
Query:
	<input value='Pull' type='button' id='qryPull' onclick='pull()' />
	<input value='Pop' type='button' id='qryPop' onclick='pop()' />
	<input value='Prev' type='button' id='qryPrev' onclick='prev()' />
	<input value='Next' type='button' id='qryNext' onclick='next()' />
	<div id='val'></div>
</div>
</body>
</html>
